<ion-view view-title="个人资料">
<ion-nav-bar class="bar-positive" align-title="center">

  <ion-nav-buttons side="left">
    <button class="button button-icon icon ion-ios-arrow-left fc-ff" ng-click="$ionicGoBack()"></button>
  </ion-nav-buttons>

       <ion-nav-buttons class="bar-dark nav-title-slide-ios7" side="right" >
           <button class="button defa-bg defa-font" ng-click="toggle()">编辑</button>
      </ion-nav-buttons>
 </ion-nav-bar>

    <ion-content>
		<div ng-show="myDiv" >
	    	<div class="myinfo-avatar">
	    		<div class="img-cen ">
	    			<div>
	        			<img ng-src="{{doctor.photoUrl||'img/doctor.png'}}">
	    			</div>
	   			</div>
	    		<span class="f16">{{doctor.name}}</span>
	    	</div>

		    <div class="myinfo-cont">
		        <ion-item>
		            <span class="msg">姓名</span>
					<p class="myinfo-msg-right top16 right15">{{doctor.name}}</p>   
		        </ion-item>
		<!--         <ion-item>
		            <span class="msg">头像</span>
					<p class="myinfo-img-right"><img style="width:40px;height:40px;" ng-src="{{doctor.photoUrl||'img/doctor.png'}}"></p>
		        </ion-item> -->
		        <ion-item>
		            <span class="msg">职称</span>
					<p class="myinfo-msg-right top16 right15">{{doctor.title}}</p>
		        </ion-item>
		        <ion-item>
		            <span class="msg">省份</span>
					<p class="myinfo-msg-right top16 right15">{{doctor.province}}</p>	            
			        </select>
		        </ion-item>
		        <ion-item>
		            <span class="msg">城市</span>
					<p class="myinfo-msg-right top16 right15">{{doctor.city}}</p>
		        </ion-item>        
		        <ion-item class="item-text-wrap">
		            <span class="msg">医院</span>
					<p class="myinfo-msg-right top16 right15" style = "padding-left: 25%">{{doctor.workUnit}}</p>
		        </ion-item>
				<ion-item>
		            <span class="msg">科室</span>
					<p class="myinfo-msg-right top16 right15">{{doctor.department}}</p>
		        </ion-item>
				<ion-item class="item-text-wrap">
		            <span class="msg" style="position: absolute;">擅长</span>
					<p class="myinfo-msg-right top16 right15" style="position: absolute;">
						<div contenteditable="false" ng-model="doctor.major" style="font-size: 15px; position: relative; left: 60px; width:80%; max-height:120px;overflow-y:auto;overflow-x:hidden;">
	            		</div>
            		</p>		            		            
		        </ion-item>
		        <ion-item class="item-text-wrap">
		            <span class="msg" style="position: absolute;">简介</span>
					<p class="myinfo-msg-right top16 right15" style="position: absolute;">
						<div contenteditable="false" ng-model="doctor.description" style="font-size: 15px; position: relative; left: 60px; width:80%; max-height:120px;overflow-y:auto;overflow-x:hidden;">
	            		</div>
            		</p>
            	</ion-item>
<!-- 				<ion-item>
		            <span class="msg">擅长</span>
					<p class="myinfo-msg-right top16 right15">{{doctor.major}}</p>
		        </ion-item>
				<ion-item>
		            <span class="msg">简介</span>		   
					<p class="myinfo-msg-right top16 right15">{{doctor.description}}</p>
		        </ion-item>  -->           	
		        <ion-item>
		            <span class="msg">医师资格证书</span>
					<img ng-src="{{doctor.certificatePhotoUrl}}"  name="Photo1" ng-click="showoriginal(doctor.certificatePhotoUrl)"  style="height:30%; width:30%"  />
		        </ion-item>
		        <ion-item>
		            <span class="msg">医师执业证书</span>
					<img ng-src="{{doctor.practisingPhotoUrl}}"  name="Photo2" ng-click="showoriginal(doctor.practisingPhotoUrl)"  style="height:30%; width:30%"  />
		        </ion-item>
			</div>
		</div>
		
		<div ng-show="updateDiv">
		<!-- <div class="myinfo-cont"> -->
			<ion-item class="item item-input">
				<span class="input-label">姓名</span>
				<input type=text ng-model="doctor.name" style="width:100%;text-align: right;">
			</ion-item>

<!-- 			<ion-item class="item item-input">
				<span class="input-label">头像</span>
				<p class="myinfo-img-right"><img style="width:40px;height:40px;" ng-src="{{doctor.photoUrl||'img/doctor.png'}}" name="Photo" ng-click="onClickCamera($event)"></p>
			</ion-item> -->

		    <!-- 上传照片的弹出框 -->
<!-- 		    <script id="my-popover.html" type="text/ng-template">
			    <ion-popover-view>
			        <ion-header-bar class="bar-calm">
			          	<h1 class="title">上传图片</h1>
			        </ion-header-bar>
			        <ion-content>
			          	<ion-list> 
			            	<div class = "padding">
			              		<button class="button button-block button-primary " ng-click="getPhoto()"><i class="icon ion-camera"></i>
			                  拍照
			              		</button>
			            
			              		<button class="button button-block button-primary " ng-click="onClickCameraPhotos()"><i class="icon ion-image"></i>
			                  相册
			              		</button>
			             
			            	</div>
			          	</ion-list>
			        </ion-content>
			    </ion-popover-view>
		    </script> -->
		    <!-- 上传照片的弹出框 -->

			<ion-item class="item item-input item-select">
				<span class="input-label">职称</span>
                <select class="myinfo-msg-right" ng-model="doctor.title" ng-options="Title.Name for Title in Titles track by Title.Type" style="width:100%">
                </select>				
			</ion-item>

            <ion-item  class="item item-input item-select">
                <span class="input-label">省份</span>
                <select class="myinfo-msg-right" ng-model="ProvinceObject" ng-options="Province.name for Province in Provinces track by Province.province" style="width:100%" ng-change="getCity(ProvinceObject.province)">
                <!-- <option selected value={{doctor.province}}></option>  -->
                </select>
            </ion-item>

			<ion-item  class="item item-input item-select">
				<span class="input-label">城市</span>
                <select class="myinfo-msg-right" ng-model="CityObject" ng-options="City.name for City in Cities track by City.city" style="width:100%" ng-change="getHospital(CityObject.name)">
                </select>
			</ion-item>
			<ion-item  class="item item-input item-select">
				<span class="input-label">医院</span>
                <select class="myinfo-msg-right" ng-model="HosObject" ng-options="Hospital.hospitalName for Hospital in Hospitals track by Hospital._id" style="width:100%" ng-change="trans(HosObject)">
                </select>
			</ion-item>
			<ion-item class="item item-input">
				<span class="input-label">科室</span>
				<input type=text ng-model="doctor.department" style="width:100%;text-align: right;">
			</ion-item>
<!-- 			<ion-item class="item item-input">
				<span style="position: absolute;top:15px;">擅长</span>
				<div contenteditable="true" ng-model="doctor.major" style="font-size: 15px;position: relative;left:55px;padding: 9px;width:80%; max-height:120px;overflow-y:auto;overflow-x:hidden;">
            	</div>
			</ion-item>
 			<ion-item class="item item-input item-text-wrap">
				<span style="position: absolute;top:15px;">简介</span>
				<div contenteditable="true" ng-model="doctor.description" style="font-size: 15px;position: relative;left:55px;padding: 9px;width:80%; max-height:120px;overflow-y:auto;overflow-x:hidden;">
            	</div>
			</ion-item> -->
			<ion-item class="item item-input">
				<span class="input-label">擅长</span>
				<textarea ng-model="doctor.major" ng-attr-rows="{{row || '1'}}" ng-focus="row=2" ng-blur="row=1" cols="1" style = "width: 60%"></textarea>
			</ion-item>
			<ion-item class="item item-input">
				<span class="input-label">简介</span>
				<textarea ng-model="doctor.description" ng-attr-rows="{{row || '1'}}" ng-focus="row=2" ng-blur="row=1" cols="1" style = "width: 60%"></textarea>
			</ion-item>			
			<ion-item>
	            <!-- <span class="msg">医师资格证书</span> -->
	            <button class="button button-clear" style="color:#666" ng-click="onClickCamera($event,0)" ><i class="icon ion-camera"></i>上传医师资格证书</button>
				<img ng-src="{{doctor.certificatePhotoUrl}}"  name="Photo1" ng-click="showoriginal(doctor.certificatePhotoUrl)"  ng-click="onClickCamera($event,0)" style="height:30%; width:30%"  />
	        </ion-item>
	        <ion-item>
	            <!-- <span class="msg">医师执业证书</span> -->
	            <button class="button button-clear" style="color:#666" ng-click="onClickCamera($event,1)" ><i class="icon ion-camera"></i>上传医师执业证书</button>
				<img ng-src="{{doctor.practisingPhotoUrl}}"  name="Photo2" ng-click="showoriginal(doctor.practisingPhotoUrl)" ng-click="onClickCamera($event,1)" style="height:30%; width:30%"  />
	        </ion-item>

			
			<button ng-click="editinfo()" style="margin-top:0 ;background: #6ac4f8;width: 80%;margin: 0 auto" class="button button-block button-positive mt-40">保存</button>

        </div>
    </ion-content>
	
</ion-view>